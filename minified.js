const buttonOne=document.getElementById("1"),buttonTwo=document.getElementById("2"),buttonThree=document.getElementById("3"),buttonFour=document.getElementById("4"),buttonFive=document.getElementById("5"),buttonSix=document.getElementById("6"),buttonSeven=document.getElementById("7"),buttonEight=document.getElementById("8"),buttonNine=document.getElementById("9"),buttonZero=document.getElementById("0"),buttonPlus=document.getElementById("+"),buttonMinus=document.getElementById("-"),buttonMultiply=document.getElementById("*"),buttonDivide=document.getElementById("/"),buttonEqual=document.getElementById("="),buttonCancelLast=document.getElementById("del"),buttonCancelAll=document.getElementById("AC"),buttonOpenParenthesis=document.getElementById("openParenthesis"),buttonClosedParenthesis=document.getElementById("closedParenthesis"),buttonDecimalPoint=document.getElementById("decimalPoint"),buttonRaiseToSecond=document.getElementById("raise"),buttonRaiseToY=document.getElementById("raiseToY");let result=0,expression="";function stopInput(t){switch(t){case"+":case"*":case"/":case".":case"^2":case"^":return!0;default:return!1}}function calculator(t){if("del"==t)return expression=expression.substring(0,expression.length-1),void(document.getElementById("field").value=`${expression}`);stopInput(t)&&stopInput(expression.charAt(expression.length-1))||"-"==t&&"."==expression.charAt(expression.length-1)||(expression+=t,document.getElementById("field").value=`${expression}`)}function calculateResult(){try{result=math.evaluate(expression),document.getElementById("field").value=result,expression=String(result)}catch(t){document.getElementById("field").value="Error",expression="",console.error("Calculation error:",t)}}function deleteAll(){expression="",result=0,document.getElementById("field").value=`${expression}`}buttonOne.addEventListener("click",(function(){calculator("1")})),buttonTwo.addEventListener("click",(function(){calculator("2")})),buttonThree.addEventListener("click",(function(){calculator("3")})),buttonFour.addEventListener("click",(function(){calculator("4")})),buttonFive.addEventListener("click",(function(){calculator("5")})),buttonSix.addEventListener("click",(function(){calculator("6")})),buttonSeven.addEventListener("click",(function(){calculator("7")})),buttonEight.addEventListener("click",(function(){calculator("8")})),buttonNine.addEventListener("click",(function(){calculator("9")})),buttonZero.addEventListener("click",(function(){calculator("0")})),buttonPlus.addEventListener("click",(function(){calculator("+")})),buttonMinus.addEventListener("click",(function(){calculator("-")})),buttonMultiply.addEventListener("click",(function(){calculator("*")})),buttonDivide.addEventListener("click",(function(){calculator("/")})),buttonEqual.addEventListener("click",(function(){calculateResult()})),buttonCancelAll.addEventListener("click",(function(){deleteAll()})),buttonCancelLast.addEventListener("click",(function(){calculator("del")})),buttonOpenParenthesis.addEventListener("click",(function(){calculator("(")})),buttonClosedParenthesis.addEventListener("click",(function(){calculator(")")})),buttonDecimalPoint.addEventListener("click",(function(){calculator(".")})),buttonRaiseToSecond.addEventListener("click",(function(){calculator("^2")})),buttonRaiseToY.addEventListener("click",(function(){calculator("^")}));
